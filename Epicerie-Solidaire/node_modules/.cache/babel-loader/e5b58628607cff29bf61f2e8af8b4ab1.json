{"ast":null,"code":"var _jsxFileName = \"/Users/yoannlabbe/Projet/my-app/PLANT-FLOWER-FRONT/src/Profil/UserDelete.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport axios from \"axios\";\nimport { Button, makeStyles, TextField } from \"@material-ui/core\";\nimport { useCookies } from 'react-cookie';\nimport { useHistory } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  button: {\n    borderRadius: \"25px\",\n    backgroundColor: \"#33FF93\",\n    color: \"black\",\n    width: \"35%\",\n    height: \"50px\",\n    marginTop: \"10px\",\n    marginBottom: \"10px\",\n    marginRight: \"10px\",\n    marginLeft: \"30%\"\n  }\n}));\nexport default function UserDelete(_ref) {\n  _s();\n\n  let {\n    handleClose,\n    confirmation\n  } = _ref;\n  const [confirmDelete, setConfirmDelete] = useState(false);\n  const classes = useStyles();\n  const [cookies, setCookies, removeCookies] = useCookies([\"token\"]);\n  const token = cookies.token;\n\n  const deleteUser = async () => {\n    try {\n      if (token) {\n        const userdelete = await axios.delete(`${process.env.REACT_APP_API_BASE_URL}create/drop`, {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        }, {\n          withCredentials: true\n        });\n\n        if (userdelete.data) {\n          setConfirmDelete(true);\n          confirmation(true);\n          removeCookies(\"token\", {\n            path: \"/\"\n          });\n        }\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  if (confirmDelete == false) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        style: {\n          textAlign: \"center\"\n        },\n        children: \" Vous voulez vraiment supprimer votre compte\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        onClick: e => deleteUser(e),\n        className: classes.button,\n        type: \"button\",\n        children: \"OUI\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        onClick: handleClose,\n        className: classes.button,\n        type: \"button\",\n        children: \"NON\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this);\n  } else {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"h3\", {\n        style: {\n          textAlign: \"center\"\n        },\n        children: \"votre compte a \\xE9t\\xE9 supprimer\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this);\n  }\n}\n\n_s(UserDelete, \"oVDRlBJDTtS2ZaGG4Sy2kRgUKp8=\", false, function () {\n  return [useStyles, useCookies];\n});\n\n_c = UserDelete;\n\nvar _c;\n\n$RefreshReg$(_c, \"UserDelete\");","map":{"version":3,"names":["React","useState","axios","Button","makeStyles","TextField","useCookies","useHistory","useStyles","theme","button","borderRadius","backgroundColor","color","width","height","marginTop","marginBottom","marginRight","marginLeft","UserDelete","handleClose","confirmation","confirmDelete","setConfirmDelete","classes","cookies","setCookies","removeCookies","token","deleteUser","userdelete","delete","process","env","REACT_APP_API_BASE_URL","headers","Authorization","withCredentials","data","path","error","console","log","textAlign","e"],"sources":["/Users/yoannlabbe/Projet/my-app/PLANT-FLOWER-FRONT/src/Profil/UserDelete.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport axios from \"axios\";\r\nimport { Button, makeStyles, TextField } from \"@material-ui/core\";\r\nimport { useCookies } from 'react-cookie';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  button: {\r\n    borderRadius: \"25px\",\r\n    backgroundColor: \"#33FF93\",\r\n    color: \"black\",\r\n    width: \"35%\",\r\n    height: \"50px\",\r\n    marginTop: \"10px\",\r\n    marginBottom: \"10px\",\r\n    marginRight: \"10px\",\r\n    marginLeft: \"30%\"\r\n  },\r\n}));\r\n\r\nexport default function UserDelete({ handleClose, confirmation }) {\r\n  const [confirmDelete, setConfirmDelete] = useState(false)\r\n  const classes = useStyles();\r\n  const [cookies, setCookies, removeCookies] = useCookies([\"token\"])\r\n  const token = cookies.token\r\n\r\n\r\n  const deleteUser = async () => {\r\n    try {\r\n      if (token) {\r\n        const userdelete = await axios.delete(`${process.env.REACT_APP_API_BASE_URL}create/drop`, { headers: { Authorization: `Bearer ${token}` } }, {\r\n          withCredentials: true,\r\n        })\r\n        if (userdelete.data) {\r\n          setConfirmDelete(true)\r\n          confirmation(true)\r\n          removeCookies(\"token\", { path: \"/\" })\r\n\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.log(error)\r\n    }\r\n  }\r\n\r\n  if (confirmDelete == false) {\r\n\r\n\r\n    return (\r\n\r\n      <div>\r\n\r\n\r\n\r\n        <h2 style={{ textAlign: \"center\" }}> Vous voulez vraiment supprimer votre compte</h2>\r\n\r\n\r\n\r\n        <Button onClick={(e) => deleteUser(e)} className={classes.button} type=\"button\">OUI</Button>\r\n        <Button onClick={handleClose} className={classes.button} type=\"button\">NON</Button>\r\n\r\n\r\n      </div>\r\n    )\r\n  } else {\r\n    return (\r\n      <div>\r\n        <h3 style={{ textAlign: \"center\" }}>votre compte a été supprimer</h3>\r\n      </div>\r\n    )\r\n  }\r\n\r\n}"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,MAAT,EAAiBC,UAAjB,EAA6BC,SAA7B,QAA8C,mBAA9C;AACA,SAASC,UAAT,QAA2B,cAA3B;AACA,SAASC,UAAT,QAA2B,kBAA3B;;AAEA,MAAMC,SAAS,GAAGJ,UAAU,CAAEK,KAAD,KAAY;EACvCC,MAAM,EAAE;IACNC,YAAY,EAAE,MADR;IAENC,eAAe,EAAE,SAFX;IAGNC,KAAK,EAAE,OAHD;IAINC,KAAK,EAAE,KAJD;IAKNC,MAAM,EAAE,MALF;IAMNC,SAAS,EAAE,MANL;IAONC,YAAY,EAAE,MAPR;IAQNC,WAAW,EAAE,MARP;IASNC,UAAU,EAAE;EATN;AAD+B,CAAZ,CAAD,CAA5B;AAcA,eAAe,SAASC,UAAT,OAAmD;EAAA;;EAAA,IAA/B;IAAEC,WAAF;IAAeC;EAAf,CAA+B;EAChE,MAAM,CAACC,aAAD,EAAgBC,gBAAhB,IAAoCvB,QAAQ,CAAC,KAAD,CAAlD;EACA,MAAMwB,OAAO,GAAGjB,SAAS,EAAzB;EACA,MAAM,CAACkB,OAAD,EAAUC,UAAV,EAAsBC,aAAtB,IAAuCtB,UAAU,CAAC,CAAC,OAAD,CAAD,CAAvD;EACA,MAAMuB,KAAK,GAAGH,OAAO,CAACG,KAAtB;;EAGA,MAAMC,UAAU,GAAG,YAAY;IAC7B,IAAI;MACF,IAAID,KAAJ,EAAW;QACT,MAAME,UAAU,GAAG,MAAM7B,KAAK,CAAC8B,MAAN,CAAc,GAAEC,OAAO,CAACC,GAAR,CAAYC,sBAAuB,aAAnD,EAAiE;UAAEC,OAAO,EAAE;YAAEC,aAAa,EAAG,UAASR,KAAM;UAAjC;QAAX,CAAjE,EAAoH;UAC3IS,eAAe,EAAE;QAD0H,CAApH,CAAzB;;QAGA,IAAIP,UAAU,CAACQ,IAAf,EAAqB;UACnBf,gBAAgB,CAAC,IAAD,CAAhB;UACAF,YAAY,CAAC,IAAD,CAAZ;UACAM,aAAa,CAAC,OAAD,EAAU;YAAEY,IAAI,EAAE;UAAR,CAAV,CAAb;QAED;MACF;IACF,CAZD,CAYE,OAAOC,KAAP,EAAc;MACdC,OAAO,CAACC,GAAR,CAAYF,KAAZ;IACD;EACF,CAhBD;;EAkBA,IAAIlB,aAAa,IAAI,KAArB,EAA4B;IAG1B,oBAEE;MAAA,wBAIE;QAAI,KAAK,EAAE;UAAEqB,SAAS,EAAE;QAAb,CAAX;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAJF,eAQE,QAAC,MAAD;QAAQ,OAAO,EAAGC,CAAD,IAAOf,UAAU,CAACe,CAAD,CAAlC;QAAuC,SAAS,EAAEpB,OAAO,CAACf,MAA1D;QAAkE,IAAI,EAAC,QAAvE;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QARF,eASE,QAAC,MAAD;QAAQ,OAAO,EAAEW,WAAjB;QAA8B,SAAS,EAAEI,OAAO,CAACf,MAAjD;QAAyD,IAAI,EAAC,QAA9D;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QATF;IAAA;MAAA;MAAA;MAAA;IAAA,QAFF;EAgBD,CAnBD,MAmBO;IACL,oBACE;MAAA,uBACE;QAAI,KAAK,EAAE;UAAEkC,SAAS,EAAE;QAAb,CAAX;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IADF;MAAA;MAAA;MAAA;IAAA,QADF;EAKD;AAEF;;GApDuBxB,U;UAENZ,S,EAC6BF,U;;;KAHvBc,U"},"metadata":{},"sourceType":"module"}