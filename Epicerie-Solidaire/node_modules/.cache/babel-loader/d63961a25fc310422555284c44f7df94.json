{"ast":null,"code":"var _jsxFileName = \"/Users/yoannlabbe/Projet/my-app/PLANT-FLOWER-FRONT/src/Password/PasswordMail.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport axios from \"axios\";\nimport { Button, makeStyles, TextField } from \"@material-ui/core\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  button: {\n    borderRadius: \"25px\",\n    backgroundColor: \"#33FF93\",\n    color: \"black\",\n    width: \"35%\",\n    height: \"50px\",\n    marginTop: \"10px\",\n    marginBottom: \"10px\",\n    marginRight: \"10px\",\n    marginLeft: \"30%\"\n  }\n}));\nexport default function PasswordEmail() {\n  _s();\n\n  const [confirmEmail, setConfirmEmail] = useState(false);\n  const [email, setEmail] = useState(\"\");\n  const classes = useStyles(); // fonction pour verifier le mail \n\n  const confirmation = async () => {\n    try {\n      // dans une requete get axios on ne peut pas envoyer de body\n      const mail = await axios.post(`${process.env.REACT_APP_API_BASE_URL}create/verify`, {\n        email\n      }, {\n        withCredentials: true\n      });\n\n      if (mail.data) {\n        setConfirmEmail(true);\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  if (confirmEmail == false) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        style: {\n          textAlign: \"center\"\n        },\n        children: \"Confirmer votre email\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        placeholder: \"email\",\n        label: \"email\",\n        onChange: e => setEmail(e.target.value),\n        variant: \"outlined\",\n        fullWidth: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        onClick: e => confirmation(e),\n        className: classes.button,\n        type: \"button\",\n        children: \"ENVOYER\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this);\n  } else {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"h3\", {\n        style: {\n          textAlign: \"center\"\n        },\n        children: \"un lien vous a \\xE9t\\xE9 envoyer par mail pour modifier votre mot de passe\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this);\n  }\n}\n\n_s(PasswordEmail, \"dPvmq36rJTM+2MvpjutWlut7Jmk=\", false, function () {\n  return [useStyles];\n});\n\n_c = PasswordEmail;\n\nvar _c;\n\n$RefreshReg$(_c, \"PasswordEmail\");","map":{"version":3,"names":["React","useState","axios","Button","makeStyles","TextField","useStyles","theme","button","borderRadius","backgroundColor","color","width","height","marginTop","marginBottom","marginRight","marginLeft","PasswordEmail","confirmEmail","setConfirmEmail","email","setEmail","classes","confirmation","mail","post","process","env","REACT_APP_API_BASE_URL","withCredentials","data","error","console","log","textAlign","e","target","value"],"sources":["/Users/yoannlabbe/Projet/my-app/PLANT-FLOWER-FRONT/src/Password/PasswordMail.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport axios from \"axios\";\r\nimport { Button, makeStyles, TextField } from \"@material-ui/core\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  button: {\r\n    borderRadius: \"25px\",\r\n    backgroundColor: \"#33FF93\",\r\n    color: \"black\",\r\n    width: \"35%\",\r\n    height: \"50px\",\r\n    marginTop: \"10px\",\r\n    marginBottom: \"10px\",\r\n    marginRight: \"10px\",\r\n    marginLeft: \"30%\"\r\n  },\r\n}));\r\n\r\nexport default function PasswordEmail() {\r\n \r\n  const [confirmEmail, setConfirmEmail] = useState(false)\r\n  const [email, setEmail] = useState(\"\")\r\n  const classes = useStyles();\r\n\r\n// fonction pour verifier le mail \r\n  const confirmation = async () => {\r\n    try {\r\n      // dans une requete get axios on ne peut pas envoyer de body\r\n      const mail = await axios.post(`${process.env.REACT_APP_API_BASE_URL}create/verify`, { email },\r\n        {\r\n          withCredentials: true,\r\n        }\r\n      )\r\n      if (mail.data) {\r\n        setConfirmEmail(true)\r\n      }\r\n    } catch (error) {\r\n      console.log(error)\r\n    }\r\n  }\r\n\r\n  if (confirmEmail == false) {\r\n\r\n\r\n    return (\r\n\r\n      <div>\r\n\r\n        <h2 style={{ textAlign: \"center\" }}>Confirmer votre email</h2>\r\n        \r\n        <TextField\r\n          placeholder=\"email\"\r\n          label=\"email\"\r\n          onChange={(e) => setEmail(e.target.value)}\r\n          variant=\"outlined\"\r\n          fullWidth\r\n        />\r\n\r\n\r\n        <Button onClick={(e) => confirmation(e)} className={classes.button} type=\"button\">ENVOYER</Button>\r\n\r\n        \r\n      </div>\r\n    )\r\n  } else {\r\n    return (\r\n      <div>\r\n        <h3 style={{ textAlign: \"center\" }}>un lien vous a été envoyer par mail pour modifier votre mot de passe</h3>\r\n      </div>\r\n    )\r\n  }\r\n\r\n}"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,MAAT,EAAiBC,UAAjB,EAA6BC,SAA7B,QAA8C,mBAA9C;;AAEA,MAAMC,SAAS,GAAGF,UAAU,CAAEG,KAAD,KAAY;EACvCC,MAAM,EAAE;IACNC,YAAY,EAAE,MADR;IAENC,eAAe,EAAE,SAFX;IAGNC,KAAK,EAAE,OAHD;IAINC,KAAK,EAAE,KAJD;IAKNC,MAAM,EAAE,MALF;IAMNC,SAAS,EAAE,MANL;IAONC,YAAY,EAAE,MAPR;IAQNC,WAAW,EAAE,MARP;IASNC,UAAU,EAAE;EATN;AAD+B,CAAZ,CAAD,CAA5B;AAcA,eAAe,SAASC,aAAT,GAAyB;EAAA;;EAEtC,MAAM,CAACC,YAAD,EAAeC,eAAf,IAAkCnB,QAAQ,CAAC,KAAD,CAAhD;EACA,MAAM,CAACoB,KAAD,EAAQC,QAAR,IAAoBrB,QAAQ,CAAC,EAAD,CAAlC;EACA,MAAMsB,OAAO,GAAGjB,SAAS,EAAzB,CAJsC,CAMxC;;EACE,MAAMkB,YAAY,GAAG,YAAY;IAC/B,IAAI;MACF;MACA,MAAMC,IAAI,GAAG,MAAMvB,KAAK,CAACwB,IAAN,CAAY,GAAEC,OAAO,CAACC,GAAR,CAAYC,sBAAuB,eAAjD,EAAiE;QAAER;MAAF,CAAjE,EACjB;QACES,eAAe,EAAE;MADnB,CADiB,CAAnB;;MAKA,IAAIL,IAAI,CAACM,IAAT,EAAe;QACbX,eAAe,CAAC,IAAD,CAAf;MACD;IACF,CAVD,CAUE,OAAOY,KAAP,EAAc;MACdC,OAAO,CAACC,GAAR,CAAYF,KAAZ;IACD;EACF,CAdD;;EAgBA,IAAIb,YAAY,IAAI,KAApB,EAA2B;IAGzB,oBAEE;MAAA,wBAEE;QAAI,KAAK,EAAE;UAAEgB,SAAS,EAAE;QAAb,CAAX;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAFF,eAIE,QAAC,SAAD;QACE,WAAW,EAAC,OADd;QAEE,KAAK,EAAC,OAFR;QAGE,QAAQ,EAAGC,CAAD,IAAOd,QAAQ,CAACc,CAAC,CAACC,MAAF,CAASC,KAAV,CAH3B;QAIE,OAAO,EAAC,UAJV;QAKE,SAAS;MALX;QAAA;QAAA;QAAA;MAAA,QAJF,eAaE,QAAC,MAAD;QAAQ,OAAO,EAAGF,CAAD,IAAOZ,YAAY,CAACY,CAAD,CAApC;QAAyC,SAAS,EAAEb,OAAO,CAACf,MAA5D;QAAoE,IAAI,EAAC,QAAzE;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAbF;IAAA;MAAA;MAAA;MAAA;IAAA,QAFF;EAoBD,CAvBD,MAuBO;IACL,oBACE;MAAA,uBACE;QAAI,KAAK,EAAE;UAAE2B,SAAS,EAAE;QAAb,CAAX;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IADF;MAAA;MAAA;MAAA;IAAA,QADF;EAKD;AAEF;;GAtDuBjB,a;UAINZ,S;;;KAJMY,a"},"metadata":{},"sourceType":"module"}