{"ast":null,"code":"var _jsxFileName = \"/Users/yoannlabbe/epiceriesolidaire/Epicerie-Solidaire/src/Profil/MyProfil.jsx\",\n    _s = $RefreshSig$();\n\n// visualiser son profil, ajouter une annonce, et renseigner son Iban\nimport React, { useContext, useEffect, useState } from 'react';\nimport Picture from './Picture';\nimport Profil from './Profil';\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport PopupAnnonce from '../Annonce/PopupAnnonce';\nimport { Button } from '@material-ui/core';\nimport UserContext from '../Context/UserContext';\nimport axios from 'axios';\nimport { useHistory } from 'react-router-dom';\nimport AddIcon from '@mui/icons-material/Add';\nimport { useCookies } from 'react-cookie';\nimport PopupIban from './PopupIban';\nimport PopupDelete from './PopupDelete';\nimport SettingsIcon from '@mui/icons-material/Settings';\nimport Alert from '@mui/material/Alert';\nimport Stack from '@mui/material/Stack';\nimport Box from '@mui/material/Box';\nimport TextField from '@mui/material/TextField';\nimport SendIcon from '@mui/icons-material/Send';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles({\n  annonce: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    borderRadius: \"25px\",\n    backgroundColor: \"#33FF93\",\n    width: \"15%\",\n    height: \"40px\",\n    marginTop: \"10%\",\n    marginLeft: \"35%\"\n  },\n  bouton: {\n    width: \"15%\",\n    height: \"40px\",\n    display: \"flex\",\n    marginTop: \"10%\",\n    alignItems: \"center\",\n    marginLeft: \"75%\",\n    borderRadius: \"25px\",\n    justifyContent: \"center\",\n    backgroundColor: \"#33FF93\",\n    marginBottom: \"5%\"\n  }\n});\nexport default function MyProfil() {\n  _s();\n\n  const {\n    connectedUser,\n    setConnectedUser\n  } = useContext(UserContext);\n  const [open, setOpen] = React.useState(false);\n  const [ouvrir, setOuvrir] = React.useState(false);\n  const [infos, setInfos] = useState(\"\");\n  const classes = useStyles();\n  const history = useHistory();\n  const [cookies, setCookies, removeCookies] = useCookies([\"token\"]);\n  const token = cookies.token;\n  const [profil, setProfil] = useState(\"\");\n  const [opens, setOpens] = useState(false);\n  const [confirm, setConfirm] = useState(false);\n  useEffect(async () => {\n    try {\n      // recuperer les informations de la personne qui c'est connectÃ©\n      if (token) {\n        const findUser = await axios.get(`${process.env.REACT_APP_API_BASE_URL}create/find`, {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        }, {\n          withCredentials: true\n        });\n\n        if (findUser) {\n          setInfos(findUser.data);\n        }\n      } else {\n        history.push(\"\");\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  }, []); // pour l'annonce\n\n  const handleClose = () => {\n    setOpen(false);\n    window.location.reload();\n  }; // pour l'iban\n\n\n  const handleClick = () => {\n    setOuvrir(false);\n  }; // pour supprimer son profil \n\n\n  const handleCloses = () => {\n    if (confirm) {\n      setOpens(false);\n      window.location.reload();\n    } else {\n      setOpens(false);\n    }\n  };\n\n  if (infos) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"flex\",\n          marginTop: \"1.6%\"\n        },\n        children: /*#__PURE__*/_jsxDEV(Stack, {\n          sx: {\n            width: '100%'\n          },\n          spacing: 2,\n          children: /*#__PURE__*/_jsxDEV(Alert, {\n            variant: \"filled\",\n            severity: \"warning\",\n            style: {\n              backgroundColor: \"#FF9B42\",\n              borderRadius: \"0px\"\n            },\n            children: [\"Attention pour pouvoir vendre vos v\\xE9g\\xE9taux, veuillez saisir votre \", /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"IBAN\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 99\n            }, this), \" et votre \", /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"BIC\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 130\n            }, this), \".\", /*#__PURE__*/_jsxDEV(Box, {\n              component: \"form\",\n              sx: {\n                '& > :not(style)': {\n                  m: 1,\n                  width: '25ch'\n                }\n              },\n              noValidate: true,\n              autoComplete: \"off\",\n              children: [/*#__PURE__*/_jsxDEV(TextField, {\n                name: \"iban\",\n                placeholder: \"IBAN\",\n                type: \"text\",\n                variant: \"filled\",\n                style: {\n                  marginLeft: \"550px\",\n                  marginTop: \"-2.1%\",\n                  marginBottom: \"-2%\",\n                  backgroundColor: \"#FFFFFF\"\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 118,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(TextField, {\n                name: \"bic\",\n                placeholder: \"BIC\",\n                type: \"text\",\n                variant: \"filled\",\n                style: {\n                  marginTop: \"-2.1%\",\n                  marginBottom: \"-2%\",\n                  backgroundColor: \"#FFFFFF\"\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 119,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"contained\",\n                endIcon: /*#__PURE__*/_jsxDEV(SendIcon, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 120,\n                  columnNumber: 70\n                }, this),\n                style: {\n                  marginTop: \"-2.6%\",\n                  height: \"31px\",\n                  width: \"260px\",\n                  backgroundColor: \"#FFAE08\"\n                },\n                children: \"Ajouter mon IBAN / BIC\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 120,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 112,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"flex\",\n          marginTop: \"3%\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          style: {\n            display: \"flex\",\n            marginLeft: \"40%\",\n            position: \"absolute\",\n            marginTop: \"4%\"\n          },\n          children: [\"Bonjour \", infos.user.firstname, \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Picture, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.annonce,\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            onClick: () => setOpen(true),\n            children: [/*#__PURE__*/_jsxDEV(AddIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 135,\n              columnNumber: 67\n            }, this), \" Ajouter une annonce\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(PopupAnnonce, {\n            open: open,\n            handleClose: handleClose\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(Profil, {\n          confirmation: setProfil\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 26\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 17\n    }, this);\n  } else {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: \"flex\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(Picture, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: classes.annonce,\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              onClick: () => setOpen(true),\n              children: \"Ajouter une annonce\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 155,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(PopupAnnonce, {\n              open: open,\n              handleClose: handleClose\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 156,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 17\n      }, this)\n    }, void 0, false);\n  }\n}\n\n_s(MyProfil, \"4DJiauAZn0ruA7Y3NYSKvdNUsbc=\", false, function () {\n  return [useStyles, useHistory, useCookies];\n});\n\n_c = MyProfil;\n;\n\nvar _c;\n\n$RefreshReg$(_c, \"MyProfil\");","map":{"version":3,"sources":["/Users/yoannlabbe/epiceriesolidaire/Epicerie-Solidaire/src/Profil/MyProfil.jsx"],"names":["React","useContext","useEffect","useState","Picture","Profil","makeStyles","PopupAnnonce","Button","UserContext","axios","useHistory","AddIcon","useCookies","PopupIban","PopupDelete","SettingsIcon","Alert","Stack","Box","TextField","SendIcon","useStyles","annonce","display","justifyContent","alignItems","borderRadius","backgroundColor","width","height","marginTop","marginLeft","bouton","marginBottom","MyProfil","connectedUser","setConnectedUser","open","setOpen","ouvrir","setOuvrir","infos","setInfos","classes","history","cookies","setCookies","removeCookies","token","profil","setProfil","opens","setOpens","confirm","setConfirm","findUser","get","process","env","REACT_APP_API_BASE_URL","headers","Authorization","withCredentials","data","push","error","console","log","handleClose","window","location","reload","handleClick","handleCloses","m","position","user","firstname"],"mappings":"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","sourcesContent":["// visualiser son profil, ajouter une annonce, et renseigner son Iban\r\n\r\nimport React, { useContext, useEffect, useState } from 'react';\r\nimport Picture from './Picture';\r\nimport Profil from './Profil';\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport PopupAnnonce from '../Annonce/PopupAnnonce';\r\nimport { Button } from '@material-ui/core';\r\nimport UserContext from '../Context/UserContext';\r\nimport axios from 'axios';\r\nimport { useHistory } from 'react-router-dom';\r\nimport AddIcon from '@mui/icons-material/Add';\r\nimport { useCookies } from 'react-cookie';\r\nimport PopupIban from './PopupIban';\r\nimport PopupDelete from './PopupDelete';\r\nimport SettingsIcon from '@mui/icons-material/Settings';\r\nimport Alert from '@mui/material/Alert';\r\nimport Stack from '@mui/material/Stack';\r\nimport Box from '@mui/material/Box';\r\nimport TextField from '@mui/material/TextField';\r\nimport SendIcon from '@mui/icons-material/Send';\r\n\r\nconst useStyles = makeStyles({\r\n    annonce: {\r\n        display: \"flex\",\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n        borderRadius: \"25px\",\r\n        backgroundColor: \"#33FF93\",\r\n        width: \"15%\",\r\n        height: \"40px\",\r\n        marginTop: \"10%\",\r\n        marginLeft: \"35%\",\r\n\r\n    },\r\n    bouton: {\r\n        width: \"15%\",\r\n        height: \"40px\",\r\n        display: \"flex\",\r\n        marginTop: \"10%\",\r\n        alignItems: \"center\",\r\n        marginLeft: \"75%\",\r\n        borderRadius: \"25px\",\r\n        justifyContent: \"center\",\r\n        backgroundColor: \"#33FF93\",\r\n        marginBottom: \"5%\",\r\n    },\r\n\r\n});\r\n\r\nexport default function MyProfil() {\r\n    const { connectedUser, setConnectedUser } = useContext(UserContext);\r\n    const [open, setOpen] = React.useState(false);\r\n    const [ouvrir, setOuvrir] = React.useState(false);\r\n    const [infos, setInfos] = useState(\"\");\r\n    const classes = useStyles();\r\n    const history = useHistory();\r\n    const [cookies, setCookies, removeCookies] = useCookies([\"token\"])\r\n    const token = cookies.token\r\n    const [profil, setProfil] = useState(\"\");\r\n    const [opens, setOpens] = useState(false)\r\n    const [confirm, setConfirm] = useState(false)\r\n\r\n    useEffect(async () => {\r\n        try {\r\n            // recuperer les informations de la personne qui c'est connectÃ©\r\n             if (token) {\r\n                const findUser = await axios.get(`${process.env.REACT_APP_API_BASE_URL}create/find`, { headers: { Authorization: `Bearer ${token}` } }, {\r\n                    withCredentials: true,\r\n                })\r\n                if (findUser) {\r\n\r\n                    setInfos(findUser.data)\r\n                }\r\n            }\r\n            else {\r\n                history.push(\"\")\r\n            }\r\n        } catch (error) {\r\n            console.log(error)\r\n        }\r\n    }, [])\r\n// pour l'annonce\r\n    const handleClose = () => {\r\n        setOpen(false);\r\n        window.location.reload()\r\n    };\r\n// pour l'iban\r\n    const handleClick = () => {\r\n        setOuvrir(false);\r\n    };\r\n    // pour supprimer son profil \r\n    const handleCloses = () => {\r\n        if (confirm) {\r\n            setOpens(false);\r\n            window.location.reload()\r\n        } else {\r\n            setOpens(false)\r\n        }\r\n\r\n    };\r\n\r\n    if (infos) {\r\n\r\n\r\n        return (\r\n                <div>\r\n                    <div style={{ display: \"flex\", marginTop: \"1.6%\" }}>\r\n                        <Stack sx={{ width: '100%' }} spacing={2}>\r\n                            <Alert variant=\"filled\" severity=\"warning\" style={{ backgroundColor: \"#FF9B42\", borderRadius: \"0px\" }}>\r\n                                Attention pour pouvoir vendre vos vÃ©gÃ©taux, veuillez saisir votre <strong>IBAN</strong> et votre <strong>BIC</strong>.\r\n                                <Box\r\n                                    component=\"form\"\r\n                                    sx={{ '& > :not(style)': { m: 1, width: '25ch' } }}\r\n                                    noValidate\r\n                                    autoComplete=\"off\"\r\n                                >\r\n                                <TextField name=\"iban\" placeholder=\"IBAN\" type=\"text\" variant=\"filled\" style={{ marginLeft: \"550px\", marginTop: \"-2.1%\", marginBottom: \"-2%\", backgroundColor: \"#FFFFFF\" }} />\r\n                                <TextField name=\"bic\" placeholder=\"BIC\" type=\"text\" variant=\"filled\" style={{ marginTop: \"-2.1%\", marginBottom: \"-2%\", backgroundColor: \"#FFFFFF\" }} />\r\n                                <Button variant=\"contained\" endIcon={<SendIcon />} style={{ marginTop: \"-2.6%\", height: \"31px\", width: \"260px\", backgroundColor: \"#FFAE08\" }}>\r\n                                    Ajouter mon IBAN / BIC\r\n                                </Button>\r\n                                </Box>\r\n                            </Alert>\r\n                        </Stack>\r\n\r\n                    </div>\r\n\r\n                    <div style={{ display: \"flex\", marginTop: \"3%\" }}>\r\n                        <h2 style={{ display: \"flex\", marginLeft: \"40%\", position: \"absolute\", marginTop: \"4%\" }}>Bonjour {infos.user.firstname} </h2>\r\n                        <Picture />\r\n\r\n                        <div className={classes.annonce}>\r\n\r\n                            <Button onClick={() => setOpen(true)}><AddIcon /> Ajouter une annonce</Button>\r\n                            <PopupAnnonce open={open} handleClose={handleClose} />\r\n\r\n                        </div>\r\n\r\n                    </div>\r\n                    <div><Profil confirmation={setProfil} /></div>\r\n                </div>\r\n        );\r\n    } else {\r\n        return (\r\n            <>\r\n                <div>\r\n\r\n\r\n\r\n                    <div style={{ display: \"flex\" }}>\r\n\r\n                        <Picture />\r\n                        <div className={classes.annonce}>\r\n                            <Button onClick={() => setOpen(true)}>Ajouter une annonce</Button>\r\n                            <PopupAnnonce open={open} handleClose={handleClose} />\r\n\r\n                        </div>\r\n                    </div>\r\n                    {/* <div><Profil /></div> */}\r\n                </div>\r\n            </>\r\n        );\r\n    }\r\n};"]},"metadata":{},"sourceType":"module"}