{"ast":null,"code":"var _jsxFileName = \"/Users/yoannlabbe/Projet/my-app/PLANT-FLOWER-FRONT/src/Profil/UserDelete.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport axios from \"axios\";\nimport { Button, makeStyles, TextField } from \"@material-ui/core\";\nimport { useCookies } from 'react-cookie';\nimport { useHistory } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  button: {\n    borderRadius: \"25px\",\n    backgroundColor: \"#33FF93\",\n    color: \"black\",\n    width: \"35%\",\n    height: \"50px\",\n    marginTop: \"10px\",\n    marginBottom: \"10px\",\n    marginRight: \"10px\",\n    marginLeft: \"30%\"\n  }\n}));\nexport default function UserDelete(_ref) {\n  _s();\n\n  let {\n    handleClose,\n    confirmation\n  } = _ref;\n  const [confirmDelete, setConfirmDelete] = useState(false);\n  const classes = useStyles();\n  const [cookies, setCookies, removeCookies] = useCookies([\"token\"]);\n  const token = cookies.token;\n\n  const deleteUser = async () => {\n    try {\n      if (token) {\n        const userdelete = await axios.delete(`${process.env.REACT_APP_API_BASE_URL}create/drop`, {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        }, {\n          withCredentials: true\n        });\n\n        if (userdelete.data) {\n          setConfirmDelete(true);\n          confirmation(true);\n          removeCookies(\"token\", {\n            path: \"/\"\n          });\n        }\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  if (confirmDelete == false) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        style: {\n          textAlign: \"center\"\n        },\n        children: \" Vous voulez vraiment supprimer votre compte\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        onClick: e => deleteUser(e),\n        className: classes.button,\n        type: \"button\",\n        children: \"OUI\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        onClick: handleClose,\n        className: classes.button,\n        type: \"button\",\n        children: \"NON\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this);\n  } else {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"h3\", {\n        style: {\n          textAlign: \"center\"\n        },\n        children: \"votre compte a \\xE9t\\xE9 supprimer\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this);\n  }\n}\n\n_s(UserDelete, \"oVDRlBJDTtS2ZaGG4Sy2kRgUKp8=\", false, function () {\n  return [useStyles, useCookies];\n});\n\n_c = UserDelete;\n\nvar _c;\n\n$RefreshReg$(_c, \"UserDelete\");","map":{"version":3,"sources":["/Users/yoannlabbe/Projet/my-app/PLANT-FLOWER-FRONT/src/Profil/UserDelete.jsx"],"names":["React","useState","axios","Button","makeStyles","TextField","useCookies","useHistory","useStyles","theme","button","borderRadius","backgroundColor","color","width","height","marginTop","marginBottom","marginRight","marginLeft","UserDelete","handleClose","confirmation","confirmDelete","setConfirmDelete","classes","cookies","setCookies","removeCookies","token","deleteUser","userdelete","delete","process","env","REACT_APP_API_BASE_URL","headers","Authorization","withCredentials","data","path","error","console","log","textAlign","e"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport axios from \"axios\";\r\nimport { Button, makeStyles, TextField } from \"@material-ui/core\";\r\nimport { useCookies } from 'react-cookie';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  button: {\r\n    borderRadius: \"25px\",\r\n    backgroundColor: \"#33FF93\",\r\n    color: \"black\",\r\n    width: \"35%\",\r\n    height: \"50px\",\r\n    marginTop: \"10px\",\r\n    marginBottom: \"10px\",\r\n    marginRight: \"10px\",\r\n    marginLeft: \"30%\"\r\n  },\r\n}));\r\n\r\nexport default function UserDelete({ handleClose, confirmation }) {\r\n  const [confirmDelete, setConfirmDelete] = useState(false)\r\n  const classes = useStyles();\r\n  const [cookies, setCookies, removeCookies] = useCookies([\"token\"])\r\n  const token = cookies.token\r\n\r\n\r\n  const deleteUser = async () => {\r\n    try {\r\n      if (token) {\r\n        const userdelete = await axios.delete(`${process.env.REACT_APP_API_BASE_URL}create/drop`, { headers: { Authorization: `Bearer ${token}` } }, {\r\n          withCredentials: true,\r\n        })\r\n        if (userdelete.data) {\r\n          setConfirmDelete(true)\r\n          confirmation(true)\r\n          removeCookies(\"token\", { path: \"/\" })\r\n\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.log(error)\r\n    }\r\n  }\r\n\r\n  if (confirmDelete == false) {\r\n\r\n\r\n    return (\r\n\r\n      <div>\r\n\r\n\r\n\r\n        <h2 style={{ textAlign: \"center\" }}> Vous voulez vraiment supprimer votre compte</h2>\r\n\r\n\r\n\r\n        <Button onClick={(e) => deleteUser(e)} className={classes.button} type=\"button\">OUI</Button>\r\n        <Button onClick={handleClose} className={classes.button} type=\"button\">NON</Button>\r\n\r\n\r\n      </div>\r\n    )\r\n  } else {\r\n    return (\r\n      <div>\r\n        <h3 style={{ textAlign: \"center\" }}>votre compte a été supprimer</h3>\r\n      </div>\r\n    )\r\n  }\r\n\r\n}"]},"metadata":{},"sourceType":"module"}