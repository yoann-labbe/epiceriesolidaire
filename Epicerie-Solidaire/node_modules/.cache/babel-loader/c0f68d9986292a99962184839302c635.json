{"ast":null,"code":"var _jsxFileName = \"/Users/yoannlabbe/Projet/my-app/PLANT-FLOWER-FRONT/src/Home/Accueil.jsx\",\n    _s = $RefreshSig$();\n\n// Acceuil et visualisation des recherches via la search barre\nimport React, { useState } from 'react';\nimport Search from './Search';\nimport Works from './Works';\nimport LastAnnouncement from './LastAnnouncement';\nimport axios from 'axios';\nimport CardAds from './Components/CardAds';\nimport { Link } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Accueil(props) {\n  _s();\n\n  const [annonce, setAnnonce] = React.useState(\"\");\n  const [searchValue, setSearhValue] = React.useState(\"\");\n  const [write, setWrite] = useState(false);\n\n  const handleChange = event => {\n    setSearhValue(event.target.value);\n  }; //fonction pour chercher par le titre\n\n\n  const search = async () => {\n    try {\n      const findSearch = await axios.get(`${process.env.REACT_APP_API_BASE_URL}annonce/title/${searchValue}`, {\n        withCredentials: true\n      });\n\n      if (findSearch.data) {\n        setAnnonce(findSearch.data);\n        setWrite(true);\n        return true;\n      } else {}\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  if (write == true) {\n    if (annonce.length != 0) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(Search, {\n          onChange: handleChange,\n          plante: search,\n          searchValue: searchValue\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: \"flex\",\n            flexDirection: \"row\"\n          },\n          children: annonce.map(annonce => /*#__PURE__*/_jsxDEV(Link, {\n            style: {\n              textDecoration: \"none\"\n            },\n            to: `/annonce/${annonce.id}`,\n            children: /*#__PURE__*/_jsxDEV(CardAds, {\n              photoA: annonce.photoA,\n              title: annonce.title,\n              priceWanted: annonce.priceWanted,\n              country: annonce.country,\n              delivery: annonce.delivery\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 54,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(LastAnnouncement, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Works, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this);\n    } else if (annonce.length == 0) {\n      // pour indiquer une erreur \n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(Search, {\n          onChange: handleChange,\n          plante: search,\n          searchValue: searchValue\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          style: {\n            marginTop: \"15px\",\n            marginLeft: \"10px\"\n          },\n          children: \"D\\xE9sol\\xE9, votre recherche ne correspond aux v\\xE9g\\xE9taux disponible. Veuillez recommencer une recherche.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(LastAnnouncement, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Works, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this);\n    }\n  } else {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Search, {\n        onChange: handleChange,\n        plante: search,\n        searchValue: searchValue\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(LastAnnouncement, {\n        style: {}\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Works, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this);\n  }\n\n  ;\n}\n\n_s(Accueil, \"qBjf6+i9epAn7LMGPjtVp207wUg=\");\n\n_c = Accueil;\n\nvar _c;\n\n$RefreshReg$(_c, \"Accueil\");","map":{"version":3,"sources":["/Users/yoannlabbe/Projet/my-app/PLANT-FLOWER-FRONT/src/Home/Accueil.jsx"],"names":["React","useState","Search","Works","LastAnnouncement","axios","CardAds","Link","Accueil","props","annonce","setAnnonce","searchValue","setSearhValue","write","setWrite","handleChange","event","target","value","search","findSearch","get","process","env","REACT_APP_API_BASE_URL","withCredentials","data","error","console","log","length","display","flexDirection","map","textDecoration","id","photoA","title","priceWanted","country","delivery","marginTop","marginLeft"],"mappings":";;;AAAA;AAEA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAOC,KAAP,MAAkB,SAAlB;AACA,OAAOC,gBAAP,MAA6B,oBAA7B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,OAAP,MAAoB,sBAApB;AACA,SAASC,IAAT,QAAqB,kBAArB;;AAEA,eAAe,SAASC,OAAT,CAAiBC,KAAjB,EAAwB;AAAA;;AACrC,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBX,KAAK,CAACC,QAAN,CAAe,EAAf,CAA9B;AACA,QAAM,CAACW,WAAD,EAAcC,aAAd,IAA+Bb,KAAK,CAACC,QAAN,CAAe,EAAf,CAArC;AACA,QAAM,CAACa,KAAD,EAAQC,QAAR,IAAoBd,QAAQ,CAAC,KAAD,CAAlC;;AACA,QAAMe,YAAY,GAAIC,KAAD,IAAW;AAC9BJ,IAAAA,aAAa,CAACI,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAb;AACD,GAFD,CAJqC,CAOvC;;;AACE,QAAMC,MAAM,GAAG,YAAY;AACzB,QAAI;AAEF,YAAMC,UAAU,GAAG,MAAMhB,KAAK,CAACiB,GAAN,CAAW,GAAEC,OAAO,CAACC,GAAR,CAAYC,sBAAuB,iBAAgBb,WAAY,EAA5E,EAA+E;AACtGc,QAAAA,eAAe,EAAE;AADqF,OAA/E,CAAzB;;AAGA,UAAIL,UAAU,CAACM,IAAf,EAAqB;AAEnBhB,QAAAA,UAAU,CAACU,UAAU,CAACM,IAAZ,CAAV;AACAZ,QAAAA,QAAQ,CAAC,IAAD,CAAR;AACA,eAAO,IAAP;AACD,OALD,MAKO,CAEN;AACF,KAbD,CAaE,OAAOa,KAAP,EAAc;AACdC,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AAGD;AACF,GAnBD;;AAqBA,MAAId,KAAK,IAAI,IAAb,EAAmB;AACjB,QACEJ,OAAO,CAACqB,MAAR,IAAkB,CADpB,EAEE;AAIA,0BACE;AAAA,gCACE,QAAC,MAAD;AAAQ,UAAA,QAAQ,EAAEf,YAAlB;AAAgC,UAAA,MAAM,EAAEI,MAAxC;AAAgD,UAAA,WAAW,EAAER;AAA7D;AAAA;AAAA;AAAA;AAAA,gBADF,eAGE;AAAK,UAAA,KAAK,EAAE;AAAEoB,YAAAA,OAAO,EAAE,MAAX;AAAmBC,YAAAA,aAAa,EAAE;AAAlC,WAAZ;AAAA,oBACGvB,OAAO,CAACwB,GAAR,CAAaxB,OAAD,iBACX,QAAC,IAAD;AAAM,YAAA,KAAK,EAAE;AAAEyB,cAAAA,cAAc,EAAE;AAAlB,aAAb;AAAyC,YAAA,EAAE,EAAG,YAAWzB,OAAO,CAAC0B,EAAG,EAApE;AAAA,mCACE,QAAC,OAAD;AAAS,cAAA,MAAM,EAAE1B,OAAO,CAAC2B,MAAzB;AAAiC,cAAA,KAAK,EAAE3B,OAAO,CAAC4B,KAAhD;AAAuD,cAAA,WAAW,EAAE5B,OAAO,CAAC6B,WAA5E;AAAyF,cAAA,OAAO,EAAE7B,OAAO,CAAC8B,OAA1G;AAAmH,cAAA,QAAQ,EAAE9B,OAAO,CAAC+B;AAArI;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,kBADD;AADH;AAAA;AAAA;AAAA;AAAA,gBAHF,eAWE,QAAC,gBAAD;AAAA;AAAA;AAAA;AAAA,gBAXF,eAYE,QAAC,KAAD;AAAA;AAAA;AAAA;AAAA,gBAZF;AAAA;AAAA;AAAA;AAAA;AAAA,cADF;AAgBD,KAtBD,MAuBK,IACH/B,OAAO,CAACqB,MAAR,IAAkB,CADf,EAEH;AACA;AACA,0BACE;AAAA,gCACE,QAAC,MAAD;AAAQ,UAAA,QAAQ,EAAEf,YAAlB;AAAgC,UAAA,MAAM,EAAEI,MAAxC;AAAgD,UAAA,WAAW,EAAER;AAA7D;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE;AAAI,UAAA,KAAK,EAAE;AAAE8B,YAAAA,SAAS,EAAE,MAAb;AAAqBC,YAAAA,UAAU,EAAE;AAAjC,WAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFF,eAGE,QAAC,gBAAD;AAAA;AAAA;AAAA;AAAA,gBAHF,eAIE,QAAC,KAAD;AAAA;AAAA;AAAA;AAAA,gBAJF;AAAA;AAAA;AAAA;AAAA;AAAA,cADF;AAQD;AACF,GArCD,MAuCK;AACH,wBACE;AAAA,8BACE,QAAC,MAAD;AAAQ,QAAA,QAAQ,EAAE3B,YAAlB;AAAgC,QAAA,MAAM,EAAEI,MAAxC;AAAgD,QAAA,WAAW,EAAER;AAA7D;AAAA;AAAA;AAAA;AAAA,cADF,eAGE,QAAC,gBAAD;AAAkB,QAAA,KAAK,EAAE;AAAzB;AAAA;AAAA;AAAA;AAAA,cAHF,eAIE,QAAC,KAAD;AAAA;AAAA;AAAA;AAAA,cAJF;AAAA;AAAA;AAAA;AAAA;AAAA,YADF;AAQD;;AAAA;AACF;;GA9EuBJ,O;;KAAAA,O","sourcesContent":["// Acceuil et visualisation des recherches via la search barre\r\n\r\nimport React, { useState } from 'react';\r\nimport Search from './Search';\r\nimport Works from './Works';\r\nimport LastAnnouncement from './LastAnnouncement';\r\nimport axios from 'axios';\r\nimport CardAds from './Components/CardAds';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport default function Accueil(props) {\r\n  const [annonce, setAnnonce] = React.useState(\"\");\r\n  const [searchValue, setSearhValue] = React.useState(\"\");\r\n  const [write, setWrite] = useState(false)\r\n  const handleChange = (event) => {\r\n    setSearhValue(event.target.value);\r\n  };\r\n//fonction pour chercher par le titre\r\n  const search = async () => {\r\n    try {\r\n\r\n      const findSearch = await axios.get(`${process.env.REACT_APP_API_BASE_URL}annonce/title/${searchValue}`, {\r\n        withCredentials: true,\r\n      });\r\n      if (findSearch.data) {\r\n\r\n        setAnnonce(findSearch.data)\r\n        setWrite(true)\r\n        return true\r\n      } else {\r\n\r\n      }\r\n    } catch (error) {\r\n      console.log(error)\r\n\r\n\r\n    }\r\n  }\r\n\r\n  if (write == true) {\r\n    if (\r\n      annonce.length != 0\r\n    ) {\r\n\r\n\r\n\r\n      return (\r\n        <div>\r\n          <Search onChange={handleChange} plante={search} searchValue={searchValue} />\r\n\r\n          <div style={{ display: \"flex\", flexDirection: \"row\" }}>\r\n            {annonce.map((annonce) => (\r\n              <Link style={{ textDecoration: \"none\" }} to={`/annonce/${annonce.id}`}>\r\n                <CardAds photoA={annonce.photoA} title={annonce.title} priceWanted={annonce.priceWanted} country={annonce.country} delivery={annonce.delivery} />\r\n              </Link>\r\n            ))}\r\n          </div>\r\n\r\n          <LastAnnouncement />\r\n          <Works />\r\n        </div>\r\n      )\r\n    }\r\n    else if (\r\n      annonce.length == 0\r\n    ) {\r\n      // pour indiquer une erreur \r\n      return (\r\n        <div>\r\n          <Search onChange={handleChange} plante={search} searchValue={searchValue} />\r\n          <h3 style={{ marginTop: \"15px\", marginLeft: \"10px\" }}>Désolé, votre recherche ne correspond aux végétaux disponible. Veuillez recommencer une recherche.</h3>\r\n          <LastAnnouncement />\r\n          <Works />\r\n        </div>\r\n      )\r\n    }\r\n  }\r\n\r\n  else {\r\n    return (\r\n      <div>\r\n        <Search onChange={handleChange} plante={search} searchValue={searchValue} />\r\n\r\n        <LastAnnouncement style={{}} />\r\n        <Works />\r\n      </div>\r\n    )\r\n  };\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}